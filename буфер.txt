7) src/keyboards.py
# üìã –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û INLINE-–ö–õ–ê–í–ò–ê–¢–£–†–ê–• –í `src/keyboards.py`

## üìä –í–°–ï –§–£–ù–ö–¶–ò–ò, –í–û–ó–í–†–ê–©–ê–Æ–©–ò–ï `InlineKeyboardMarkup`

### üè† **–ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ –ò –ù–ê–í–ò–ì–ê–¶–ò–Ø**
```python
def get_main_menu_inline_keyboard() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 4 –∫–Ω–æ–ø–∫–∏ –≤ 2 —Å—Ç—Ä–æ–∫–∞—Ö  
**Callback_data:** `spread_single`, `spread_three`, `show_history`, `profile`

```python
def get_back_to_menu_inline_keyboard() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 1 –∫–Ω–æ–ø–∫–∞  
**Callback_data:** `main_menu`

```python
def get_back_to_history_keyboard() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 2 –∫–Ω–æ–ø–∫–∏  
**Callback_data:** `back_to_history`, `main_menu`

### üé¥ **–†–ê–°–ö–õ–ê–î–´ –ò –ö–ê–†–¢–´**
```python
def get_spread_selection_keyboard() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 3 –∫–Ω–æ–ø–∫–∏  
**Callback_data:** `spread_single`, `spread_three`, `main_menu`

```python
def get_card_selection_keyboard(
    session_id: str, 
    current_position: int = 1, 
    total_positions: int = 1
) -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `session_id`, `current_position`, `total_positions`  
**–ö–Ω–æ–ø–∫–∏:** 5 –∫–Ω–æ–ø–æ–∫ –≤—ã–±–æ—Ä–∞ + –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞  
**Callback_data:** `card_choice:{session_id}:{position}:{number}`, `back_to_select:{session_id}:{position}`

```python
def get_continue_selection_keyboard(
    session_id: str, 
    next_position: int
) -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `session_id`, `next_position`  
**–ö–Ω–æ–ø–∫–∏:** 2 –∫–Ω–æ–ø–∫–∏  
**Callback_data:** `continue_select:{session_id}:{next_position}`, `back_to_select:{session_id}:{position}`

```python
def get_back_to_selection_keyboard(
    session_id: str, 
    position: int
) -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `session_id`, `position`  
**–ö–Ω–æ–ø–∫–∏:** 1 –∫–Ω–æ–ø–∫–∞  
**Callback_data:** `back_to_select:{session_id}:{position}`

### üìñ **–ò–°–¢–û–†–ò–Ø –†–ê–°–ö–õ–ê–î–û–í**
```python
def get_history_list_keyboard(page_spreads: List[Dict]) -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `page_spreads` (—Å–ø–∏—Å–æ–∫ —Ä–∞—Å–∫–ª–∞–¥–æ–≤)  
**–ö–Ω–æ–ø–∫–∏:** –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞—Å–∫–ª–∞–¥–æ–≤ + 2 –∫–Ω–æ–ø–∫–∏  
**Callback_data:** `details_{spread_id}`, `clear_history`, `main_menu`

```python
def get_history_keyboard(
    current_page: int, 
    total_pages: int
) -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `current_page`, `total_pages`  
**–ö–Ω–æ–ø–∫–∏:** 2-3 –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ + 1 –∫–Ω–æ–ø–∫–∞ –º–µ–Ω—é  
**Callback_data:** `history_page_{number}`, `history_info`, `main_menu`

```python
def get_spread_details_keyboard(
    spread_id: int, 
    has_questions: bool = False
) -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `spread_id`, `has_questions`  
**–ö–Ω–æ–ø–∫–∏:** 3-4 –∫–Ω–æ–ø–∫–∏  
**Callback_data:** `ask_question_{spread_id}`, `view_questions_{spread_id}`, `back_to_history`, `main_menu`

```python
def get_details_back_keyboard() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 2 –∫–Ω–æ–ø–∫–∏  
**Callback_data:** `back_to_history`, `main_menu`

### ‚ùì **–í–û–ü–†–û–°–´ –ò –ò–ù–¢–ï–†–ü–†–ï–¢–ê–¶–ò–Ø**
```python
def get_interpretation_keyboard(spread_id: int) -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `spread_id`  
**–ö–Ω–æ–ø–∫–∏:** 3 –∫–Ω–æ–ø–∫–∏  
**Callback_data:** `ask_question_{spread_id}`, `show_history`, `main_menu`

```python
def get_categories_keyboard() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 8 –∫–Ω–æ–ø–æ–∫  
**Callback_data:** `category_love`, `category_career`, `category_finance`, `category_relationships`, `category_growth`, `category_general`, `category_custom`, `main_menu`

```python
def get_cancel_question_keyboard() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 1 –∫–Ω–æ–ø–∫–∞  
**Callback_data:** `cancel_custom_question`

### üë§ **–ü–†–û–§–ò–õ–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø**
```python
def get_profile_keyboard() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 4 –∫–Ω–æ–ø–∫–∏ –≤ 3 —Å—Ç—Ä–æ–∫–∞—Ö  
**Callback_data:** `edit_birth_date`, `edit_gender`, `clear_profile`, `main_menu`

```python
def get_profile_keyboard_with_clear() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 4 –∫–Ω–æ–ø–∫–∏  
**Callback_data:** `edit_birth_date`, `edit_gender`, `clear_profile`, `main_menu`

```python
def get_gender_selection_keyboard() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 4 –∫–Ω–æ–ø–∫–∏  
**Callback_data:** `gender_male`, `gender_female`, `gender_other`, `cancel_edit`

### ‚ö° **–°–õ–£–ñ–ï–ë–ù–´–ï –ö–õ–ê–í–ò–ê–¢–£–†–´**
```python
def get_cancel_edit_keyboard() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 1 –∫–Ω–æ–ø–∫–∞  
**Callback_data:** `cancel_edit`

```python
def get_cancel_edit_inline_keyboard() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 1 –∫–Ω–æ–ø–∫–∞  
**Callback_data:** `cancel_edit`

```python
def get_clear_profile_keyboard() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 1 –∫–Ω–æ–ø–∫–∞  
**Callback_data:** `clear_profile`

```python
def get_history_diagnostic_keyboard() -> InlineKeyboardMarkup
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç  
**–ö–Ω–æ–ø–∫–∏:** 4 –∫–Ω–æ–ø–∫–∏  
**Callback_data:** `history_page_1`, `history_page_2`, `main_menu`, `test_callback`

## üìà **–°–¢–ê–¢–ò–°–¢–ò–ö–ê**

- **–í—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–π InlineKeyboardMarkup:** 21
- **–§—É–Ω–∫—Ü–∏–π ReplyKeyboardMarkup:** 3
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö callback_data –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:** 25+
- **–°–∞–º—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ callback_data:** `main_menu` (–≤ 15 —Ñ—É–Ω–∫—Ü–∏—è—Ö)

## üéØ **–û–°–ù–û–í–ù–´–ï CALLBACK_DATA –ü–ê–¢–¢–ï–†–ù–´**

```
main_menu                    # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
category_{name}              # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤
spread_single, spread_three  # –¢–∏–ø—ã —Ä–∞—Å–∫–ª–∞–¥–æ–≤
card_choice:{sid}:{pos}:{num} # –í—ã–±–æ—Ä –∫–∞—Ä—Ç
details_{id}                 # –î–µ—Ç–∞–ª–∏ —Ä–∞—Å–∫–ª–∞–¥–∞
history_page_{num}           # –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏
ask_question_{id}            # –í–æ–ø—Ä–æ—Å –ø–æ —Ä–∞—Å–∫–ª–∞–¥—É
edit_birth_date, edit_gender # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
gender_{type}                # –í—ã–±–æ—Ä –ø–æ–ª–∞
cancel_*                     # –û—Ç–º–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–π
```

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç callback_data –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö!