–ü–æ–≥–æ–¥–∏, –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –ø—Ä–∞–≤–∫–∞–º

–°–º–æ—Ç—Ä–∏ –∫–∞–∫ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Ä–∞—Å–∫–ª–∞–¥—ã, –µ—Å–ª–∏ –≤—ã–±–µ—Ä–µ–∞–µ—à—å —Ä–∞—Å–∫–ª–∞–¥ –Ω–∞ –æ–¥–Ω—É –∫–∞—Ä—Ç—É, —Ç–æ –∫–∞—Ç–µ–≥–æ—Ä–∏ –ø–æ–¥—Å—Ç–∞–≤–≤–ª—è–µ—Ç—Å—è –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ò–ò –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: –∫–∞—Ä—Ç–∞ –¥–Ω—è" –ø—Ä–æ–º—Ç —Ä–∞—Å—Å–∫–∞–∂–∏ —á—Ç–æ –∑–Ω–∞—á–∏—Ç –≤ —Ä–∞–∑—Ä–µ–∑–µ –∫–∞—Ä—Ç—ã –¥–Ω—è —Ç–µ–∫—É—â–∞ –∫–∞—Ä—Ç–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—ã–±—Ä–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞. –ù–∞ –∫–∞—Ä—Ç—É –¥–Ω—è —Ç–∞–∫–∂–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–∞—Ä—É—Å–µ–ª—å —Å –≤—ã—å–æ—Ä–æ–º –æ–¥–Ω–æ–π –∫–∞—Ä—Ç—ã. –†–∞–∑–º–µ—Ä–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∫–∞—Ä—Ç—ã –¥–æ–ª–∂–µ–Ω –ø–æ–¥–≥–æ–Ω—è—Ç—å—Å—è –ø–æ–¥ —Ä–∞–∑–º–µ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –∫–∞—Ä—Ç—ã –≤—ã–±—Ä–∞–Ω—ã –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–∏—Ç–∞—Ü–∏—è –ø—Ä–∏—à–ª–∞, –∫—Å—Ç–∞—Ç–∏ –Ω–∞ –≤—Ä–µ–º—è –ø–æ–∫–∞ –æ—Ç–≤–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å–∫ –∫–∞–∫–∞—è-—Ç–æ –∑–∞–≥–ª—É—à–∫–∞ –≤ –¥—É—Ö–µ " –æ—Ç–≤–µ—Ç –≤ –ø—Ä–æ—Ü–µ—Å—Å—Å–µ, –æ–∂–∏–¥–∞–π—Ç–µ" –∏ –Ω–µ–ª—å–∑—è –Ω–∏—á–µ–≥–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ–∫–∞ –æ—Ç–≤–µ—Ç –Ω–µ –ø—Ä–∏–¥–µ—Ç. –î–ê–ª–µ–µ–µ –æ—Ç–≤–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç, –≤—Å–µ –Ω–µ –Ω—É–∂–Ω–æ —Å–≤—è–∑–∞–Ω–Ω–æ–µ —Å –≤—ã–±–æ—Ä–æ–º –¥–æ–ª–¥–Ω–æ –∏—Å—á–µ–∑–∞—Ç—å, –¥–æ–ª–∂–Ω–æ –æ—Ç—Å–∞–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω–∞—è/—ã–µ –¥–ª—è —Ç—Ä–µ—Ö –∫–∞—Ä—Ç –∫–∞—Ä—Ç—ã –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ä—Ç–Æ –∫–∞—Ä—Ç–∏–Ω–∫–∞–∏ –∫–∞—Ä—Ç –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–∏—Ç–∞—Ü–∏–∏. –¥–æ–ª–∂–Ω–∞ –≤—ã—Ö–æ–¥–∏—Ç—å –∫–Ω–æ–ø–∫–∞ "–∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ —Ä–∞—Å–∫–∞–ª–¥—É"
–î–ª—è —Ç—Ä–µ—Ö –∫–∞—Ä—Ç –ø–æ—á—Ç–∏ —Ç–∞–∂–µ —Å–∞–º–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞, –Ω–æ –≥–ª–∞–≤–Ω–æ–µ —ç—Ç–æ —Ç–æ —á—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∂–µ—Å—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ, –ª–∏–±–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏–∑ –≤—ã–±–æ—Ä–∞ –ª–∏–±–æ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å, –ø—Ä–∏ –≤—ã—å–æ—Ä–µ —ç—Ç–æ–π  –∫–∞—Ç–µ–≥–æ—Ä–∏, —Ç.–µ. —Ç—ã —Å–Ω–∞—á–∞–ª –≤—ã–±–∏—Ä–∞–µ—à—å —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å –∏ –ø–æ—Ç–æ–º —Ç–µ–±—å–µ –æ–∫–Ω–æ —Å –≤–æ–ø—Ä–æ—Å–æ–º, –∞–≤—Ç–æ–º–∞—Ç–æ–º –µ–≥–æ –Ω–µ –Ω–∞–¥–æ –≤—ã–≤–æ–¥–∏—Ç—å. –¢–∞–∫–∂–µ –¥–ª—è –≤—Å–µ—Ö —Ä–∞—Å–∫–ª–∞–∂–æ–≤ - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞–≤—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º. –î–∞–≤–∞–π —Å–µ–π—á–∞—Å –ø–æ–¥–≥–æ–Ω–∏–º –≤—Å–µ –ø–æ–¥ –≥—É–∂–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é

–ù–∞ —Ç–µ–∫—â—É–∏–π –º–æ–º–µ–Ω—Ç –≤–æ—Ç —á—Ç–æ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä—É–∑–µ—Ä–∞:
[Telegram.WebView] > postEvent web_app_set_header_color {color_key: 'bg_color'}
telegram-web-app.js:135 [Telegram.WebView] > postEvent web_app_set_bottom_bar_color {color: '#ffffff'}
telegram-web-app.js:135 [Telegram.WebView] > postEvent web_app_request_theme 
telegram-web-app.js:135 [Telegram.WebView] > postEvent web_app_request_viewport 
telegram-web-app.js:135 [Telegram.WebView] > postEvent web_app_request_safe_area 
telegram-web-app.js:135 [Telegram.WebView] > postEvent web_app_request_content_safe_area 
index-DIKRq-qW.js:9 [TMA] API_BASE_URL: https://luna-tarot-tma.onrender.com
index-DIKRq-qW.js:9 InitData in window.__tma: null
index-DIKRq-qW.js:9 [TMA] API_BASE_URL: https://luna-tarot-tma.onrender.com
index-DIKRq-qW.js:9 [TMA] API GET /profile
index-DIKRq-qW.js:9 [TMA] API GET /profile 
index-DIKRq-qW.js:9 [TMA] API GET /spreads?page=1&limit=10
index-DIKRq-qW.js:9 [TMA] API GET /spreads?page=1&limit=10 
index-DIKRq-qW.js:9 [TMA] Raw profile from API: {user_id: 123, username: 'dev_user', first_name: 'Dev', last_name: 'User', birth_date: null,¬†‚Ä¶}
index-DIKRq-qW.js:9 [TMA] Profile loaded: {user_id: 123, username: 'dev_user'}
index-DIKRq-qW.js:9 [TMA] Spreads list loaded: 10 items
index-DIKRq-qW.js:9 [TMA] Updating profile with payload: {first_name: '–ï–≥–æ—Ä', last_name: '–ì—É—Ä–µ–≤–∏—á', birth_date: '1996-04-24', gender: 'male'}
index-DIKRq-qW.js:9 [TMA] API POST /profile {first_name: '–ï–≥–æ—Ä', last_name: '–ì—É—Ä–µ–≤–∏—á', birth_date: '1996-04-24', gender: 'male'}
index-DIKRq-qW.js:9 [TMA] Profile updated: {ok: true, data: {‚Ä¶}, error: null}
index-DIKRq-qW.js:9 [TMA] New profile from API: {user_id: 123, username: 'dev_user', first_name: 'Dev', last_name: 'User', birth_date: '1996-04-24',¬†‚Ä¶}
index-DIKRq-qW.js:9 [TMA] API POST /spreads {mode: 'auto', spread_type: 'one', category: 'daily', question: null}
index-DIKRq-qW.js:9 [TMA] API POST /spreads {mode: 'auto', spread_type: 'one', category: 'daily', question: null}
index-DIKRq-qW.js:9 [TMA] New spread detail: {id: 16, spread_type: 'one', category: 'daily', question: null, cards: Array(1),¬†‚Ä¶}
index-DIKRq-qW.js:9 [TMA] API GET /spreads/16/questions 

–í–æ—Ç —á—Ç–æ –≤ –ª–æ–≥–∞–∑ –±—ç–∫–µ–Ω–¥–∞
2025-11-30T17:38:28.827545697Z Using cached uvloop-0.22.1-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (3.8 MB)
2025-11-30T17:38:28.836112663Z Using cached watchfiles-1.1.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (456 kB)
2025-11-30T17:38:28.838603252Z Using cached websockets-15.0.1-cp311-cp311-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (182 kB)
2025-11-30T17:38:28.840610804Z Using cached yarl-1.22.0-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (365 kB)
2025-11-30T17:38:28.84287106Z Using cached iniconfig-2.3.0-py3-none-any.whl (7.5 kB)
2025-11-30T17:38:28.844584907Z Using cached packaging-25.0-py3-none-any.whl (66 kB)
2025-11-30T17:38:28.846424746Z Using cached sniffio-1.3.1-py3-none-any.whl (10 kB)
2025-11-30T17:38:28.848143263Z Using cached annotated_types-0.7.0-py3-none-any.whl (13 kB)
2025-11-30T17:38:28.849816159Z Using cached typing_inspection-0.4.2-py3-none-any.whl (14 kB)
2025-11-30T17:38:29.109033839Z Installing collected packages: json5, websockets, uvloop, urllib3, typing-extensions, tqdm, sniffio, six, pyyaml, python-dotenv, psycopg-binary, propcache, pluggy, packaging, multidict, jiter, iniconfig, idna, httptools, h11, frozenlist, distro, click, charset-normalizer, certifi, attrs, annotated-types, aiohappyeyeballs, yarl, uvicorn, typing-inspection, requests, python-dateutil, pytest, pydantic-core, psycopg, httpcore, anyio, aiosignal, watchfiles, starlette, pydantic, httpx, aiohttp, python-telegram-bot, openai, fastapi
2025-11-30T17:38:33.006334506Z Successfully installed aiohappyeyeballs-2.6.1 aiohttp-3.13.2 aiosignal-1.4.0 annotated-types-0.7.0 anyio-4.12.0 attrs-25.4.0 certifi-2025.11.12 charset-normalizer-3.4.4 click-8.3.1 distro-1.9.0 fastapi-0.115.0 frozenlist-1.8.0 h11-0.16.0 httpcore-1.0.9 httptools-0.7.1 httpx-0.28.1 idna-3.11 iniconfig-2.3.0 jiter-0.12.0 json5-0.9.14 multidict-6.7.0 openai-2.8.1 packaging-25.0 pluggy-1.6.0 propcache-0.4.1 psycopg-3.2.1 psycopg-binary-3.2.1 pydantic-2.12.5 pydantic-core-2.41.5 pytest-7.4.0 python-dateutil-2.8.2 python-dotenv-1.0.0 python-telegram-bot-22.5 pyyaml-6.0.3 requests-2.31.0 six-1.17.0 sniffio-1.3.1 starlette-0.38.6 tqdm-4.67.1 typing-extensions-4.15.0 typing-inspection-0.4.2 urllib3-2.5.0 uvicorn-0.32.0 uvloop-0.22.1 watchfiles-1.1.1 websockets-15.0.1 yarl-1.22.0
2025-11-30T17:38:33.088626618Z 
2025-11-30T17:38:33.088642078Z [notice] A new release of pip is available: 24.0 -> 25.3
2025-11-30T17:38:33.088645138Z [notice] To update, run: pip install --upgrade pip
2025-11-30T17:38:36.417001667Z ==> Uploading build...
2025-11-30T17:38:49.226611903Z ==> Uploaded in 9.6s. Compression took 3.2s
2025-11-30T17:38:49.320104392Z ==> Build successful üéâ
2025-11-30T17:38:52.175827542Z ==> Deploying...
2025-11-30T17:39:21.038411539Z ==> Running 'python -m uvicorn src.tma_api.app:app --host 0.0.0.0 --port $PORT'
2025-11-30T17:39:27.534967309Z /opt/render/project/src/.venv/lib/python3.11/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
2025-11-30T17:39:27.534988609Z * 'allow_population_by_field_name' has been renamed to 'validate_by_name'
2025-11-30T17:39:27.534993369Z   warnings.warn(message, UserWarning)
2025-11-30T17:39:30.62980562Z INFO:     Started server process [55]
2025-11-30T17:39:30.629831931Z INFO:     Waiting for application startup.
2025-11-30T17:39:30.629836961Z INFO:     Application startup complete.
2025-11-30T17:39:30.630452547Z INFO:     Uvicorn running on http://0.0.0.0:10000 (Press CTRL+C to quit)
2025-11-30T17:39:30.756400309Z INFO:     127.0.0.1:52844 - "HEAD / HTTP/1.1" 404 Not Found
2025-11-30T17:39:33.21370304Z ==> Your service is live üéâ
2025-11-30T17:39:33.249467497Z ==> 
2025-11-30T17:39:33.288654643Z ==> ///////////////////////////////////////////////////////////
2025-11-30T17:39:33.32498115Z ==> 
2025-11-30T17:39:33.356486697Z ==> Available at your primary URL https://luna-tarot-tma.onrender.com
2025-11-30T17:39:33.389015154Z ==> 
2025-11-30T17:39:33.420527771Z ==> ///////////////////////////////////////////////////////////
2025-11-30T17:39:34.886156577Z INFO:     35.197.118.178:0 - "GET / HTTP/1.1" 404 Not Found
2025-11-30T17:41:28.113295073Z INFO:     104.167.197.70:0 - "OPTIONS /spreads?page=1&limit=10 HTTP/1.1" 200 OK
2025-11-30T17:41:28.124877147Z INFO:     104.167.197.70:0 - "OPTIONS /profile HTTP/1.1" 200 OK
2025-11-30T17:41:28.844308081Z INFO:     104.167.197.70:0 - "GET /profile HTTP/1.1" 200 OK
2025-11-30T17:41:40.778181604Z INFO:     104.167.197.70:0 - "GET /spreads?page=1&limit=10 HTTP/1.1" 200 OK
2025-11-30T17:41:51.106225322Z INFO:     104.167.197.70:0 - "OPTIONS /profile HTTP/1.1" 200 OK
2025-11-30T17:41:51.409227818Z INFO:     104.167.197.70:0 - "POST /profile HTTP/1.1" 200 OK
2025-11-30T17:42:08.296901074Z INFO:     104.167.197.70:0 - "OPTIONS /spreads HTTP/1.1" 200 OK
2025-11-30T17:42:08.605192929Z 2025-11-30 17:42:08,604 - src.user_database - INFO - üóÑÔ∏è UserDatabase: using SQLite DB at data/luna_users.db
2025-11-30T17:42:08.61058213Z 2025-11-30 17:42:08,610 - src.user_database - INFO - ‚ÑπÔ∏è –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—ã —Å –Ω—É–ª—è...
2025-11-30T17:42:08.652451091Z 2025-11-30 17:42:08,652 - src.user_database - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω—ã/–º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-30T17:42:08.652495272Z 2025-11-30 17:42:08,652 - src.user_database - INFO - üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –º–∏–≥—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü...
2025-11-30T17:42:08.652828641Z 2025-11-30 17:42:08,652 - src.tma_api.tarot_deck - INFO - Loading tarot deck from /opt/render/project/src/data/tarot_deck.json
2025-11-30T17:42:08.656504767Z 2025-11-30 17:42:08,656 - src.tma_api.tarot_deck - WARNING - Card has no code and id, generated fallback code: —à—É—Ç
2025-11-30T17:42:08.656698763Z 2025-11-30 17:42:08,656 - src.tma_api.tarot_deck - INFO - Tarot deck loaded successfully (cards: 78)
2025-11-30T17:42:09.837601538Z 2025-11-30 17:42:09,837 - src.ai_interpreter - WARNING - ai_interpreter: cannot import src.config, falling back to ENV-only config: No module named 'src.config'
2025-11-30T17:42:21.541466795Z 2025-11-30 17:42:21,541 - src.tma_api.spreads.service - INFO - Created spread: user_id=123 spread_id=16 spread_type=one category=daily created_at=2025-11-30T17:42:20.232571
2025-11-30T17:42:21.543398655Z INFO:     104.167.197.70:0 - "POST /spreads HTTP/1.1" 200 OK
2025-11-30T17:42:21.846858893Z INFO:     104.167.197.70:0 - "OPTIONS /spreads/16/questions HTTP/1.1" 200 OK
2025-11-30T17:42:24.706779199Z INFO:     104.167.197.70:0 - "GET /spreads/16/questions HTTP/1.1" 200 OK
2025-11-30T17:43:20.825826972Z INFO:     188.17.209.110:0 - "OPTIONS /spreads?page=1&limit=10 HTTP/1.1" 200 OK
2025-11-30T17:43:20.830268199Z INFO:     188.17.209.110:0 - "OPTIONS /profile HTTP/1.1" 200 OK
2025-11-30T17:43:21.528478964Z INFO:     188.17.209.110:0 - "GET /profile HTTP/1.1" 200 OK
2025-11-30T17:43:28.705764091Z INFO:     188.17.209.110:0 - "OPTIONS /spreads HTTP/1.1" 200 OK
2025-11-30T17:43:33.436701814Z INFO:     188.17.209.110:0 - "GET /spreads?page=1&limit=10 HTTP/1.1" 200 OK
2025-11-30T17:43:40.772797016Z 2025-11-30 17:43:40,770 - src.tma_api.spreads.service - INFO - Created spread: user_id=123 spread_id=17 spread_type=one category=daily created_at=2025-11-30T17:43:39.477346
2025-11-30T17:43:40.772901508Z INFO:     188.17.209.110:0 - "POST /spreads HTTP/1.1" 200 OK
2025-11-30T17:43:41.158317411Z INFO:     188.17.209.110:0 - "OPTIONS /spreads/17/questions HTTP/1.1" 200 OK
2025-11-30T17:43:43.974610299Z INFO:     188.17.209.110:0 - "GET /spreads/17/questions HTTP/1.1" 200 OK
2025-11-30T17:44:34.217569961Z ==> Detected service running on port 10000
2025-11-30T17:44:34.376112419Z ==> Docs on specifying a port: https://render.com/docs/web-services#port-binding
2025-11-30T17:59:42.59398825Z INFO:     Shutting down
2025-11-30T17:59:42.694449457Z INFO:     Waiting for application shutdown.
2025-11-30T17:59:42.694585261Z INFO:     Application shutdown complete.
2025-11-30T17:59:42.694747565Z INFO:     Finished server process [55]

–í –ª–æ–≥–∞—Ö —Ñ—Ä–æ–Ω—Ç—ç–Ω–¥–∞ —á–∏—Å—Ç–æ 